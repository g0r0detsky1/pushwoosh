<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pushwoosh Test</title>
</head>
<body>
  <h1>Hello from Pushwoosh Web SDK!</h1>

  <script>
    const script = document.createElement('script');
    script.src = 'https://cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js';
    script.onload = () => {
      console.log('SDK загружен');

      // Проверяем, появился ли pushwoosh в window
      const waitForSDK = setInterval(() => {
        if (window.pushwoosh) {
          clearInterval(waitForSDK);
          console.log('Pushwoosh инициализируется');

          window.pushwoosh.push(['init', {
            logLevel: 'debug',
            applicationCode: '57769-FD020',
            defaultNotificationTitle: 'Test Pushwoosh',
            defaultNotificationImage: 'https://via.placeholder.com/128',
            serviceWorkerUrl: 'service-worker.js',
          }]);
        }
      }, 50); // Проверяем каждые 50 мс
    };

    document.head.appendChild(script);
  </script>
</body>
</html>
