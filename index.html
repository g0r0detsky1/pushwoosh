<script>
  const script = document.createElement('script');
  script.src = 'https://cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js';
  script.onload = () => {
    console.log('SDK загружен');

    const waitForPushwoosh = setInterval(() => {
      if (window.pushwoosh && window.pushwoosh.push) {
        clearInterval(waitForPushwoosh);

        window.pushwoosh.push(['init', {
          logLevel: 'debug',
          applicationCode: '57769-FD020',
          defaultNotificationTitle: 'Test PUSH',
          defaultNotificationImage: 'https://via.placeholder.com/128',
          serviceWorkerUrl: 'service-worker.js',
          subscribeWidget: {
            enable: true
          }
        }]);
      }
    }, 100);
  };
  document.head.appendChild(script);
</script>
